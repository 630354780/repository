{"remainingRequest":"E:\\vue\\yilingshopmall\\node_modules\\babel-loader\\lib\\index.js!E:\\vue\\yilingshopmall\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\vue\\yilingshopmall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vue\\yilingshopmall\\src\\views\\cart\\Cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vue\\yilingshopmall\\src\\views\\cart\\Cart.vue","mtime":1631758714846},{"path":"E:\\vue\\yilingshopmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue\\yilingshopmall\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\vue\\yilingshopmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue\\yilingshopmall\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldENhcnQgYXMgX2dldENhcnQgfSBmcm9tICIuLi8uLi9uZXR3b3JrL2NhcnQuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlc3VsdDogW10sCiAgICAgIGNhcnQ6IFtdLAogICAgICBpdGVtczogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRDYXJ0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDYXJ0OiBmdW5jdGlvbiBnZXRDYXJ0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgX2dldENhcnQoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICByZXMucmVzdWx0LnNob3BwaW5nQ2FydFZvcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGUpIHsKICAgICAgICAgIHJldHVybiBlbGUuaXNDaGVja2VkID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMuY2FydCA9IHJlcy5yZXN1bHQuc2hvcHBpbmdDYXJ0Vm9zOwogICAgICAgIGNvbnNvbGUubG9nKHJlcy5yZXN1bHQuc2hvcHBpbmdDYXJ0Vm9zKTsKICAgICAgfSk7CiAgICB9LAogICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoaW5kZXgpIHsKICAgICAgdGhpcy4kcmVmcy5jaGVja2JveGVzW2luZGV4XS50b2dnbGUoKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0FsbENoZWNrZWQ6IHsKICAgICAgLy/nm5HlkKxpc0FsbENoZWNrZWTnmoTlj5jljJYKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMuZXZlcnkoZnVuY3Rpb24gKGVsZSkgewogICAgICAgICAgcmV0dXJuIGVsZS5pc0NoZWNrZWQ7CiAgICAgICAgfSk7IC8v5Y2V5Liq5pWw5o2u5YWo6YOo6YCJ5a6a5pe2LOWFqOmAieS5n+Wwseiiq+mAieWumuS6hizljZXkuKrmlbDmja7mnInkuIDkuKrmsqHooqvpgInlrpos6YKj5LmI5YWo6YCJ5Lmf5bCx5LiN5Lya6KKr6YCJ5a6aCiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkgewogICAgICAgIC8vdmFs5Y+N5bqU5YWo6YCJ5piv5ZCm6KKr6YCJ5Lit5pe2LOWFqOmAieS4rei/lOWbnnRydWU755u45Y+NLOi/lOWbnmZhbHNlCiAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGUpIHsKICAgICAgICAgIGVsZS5pc0NoZWNrZWQgPSB2YWw7IC8v6YCJ5a6a5YWo6YCJ5ZCOLOWNleS4quaVsOaNruagueaNruWFqOmAieaDheWGteiAjOWPmOWMlijlhajpg6jooqvpgInkuK3miJblhajpg6jmsqHooqvpgInmi6kpCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICB0b3RhbDogZnVuY3Rpb24gdG90YWwoKSB7CiAgICAgIHJldHVybiB0aGlzLml0ZW1zLnJlZHVjZShmdW5jdGlvbiAodG90YWwsIGN1cnJlbnQpIHsKICAgICAgICBpZiAoY3VycmVudC5pc0NoZWNrZWQpIHsKICAgICAgICAgIHJldHVybiB0b3RhbCArIGN1cnJlbnQubnVtYmVyICogY3VycmVudC5yZXRhaWxfcHJpY2UgKiAxMDA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiB0b3RhbDsKICAgICAgICB9CiAgICAgIH0sIDApOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,SAAA,OAAA,IAAA,QAAA,QAAA,uBAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,OARA,qBAQA;AACA,SAAA,OAAA;AACA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AACA,MAAA,QAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,GAAA,CAAA,MAAA,CAAA,eAAA,CAAA,OAAA,CAAA,UAAA,GAAA;AAAA,iBAAA,GAAA,CAAA,SAAA,GAAA,KAAA;AAAA,SAAA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,MAAA,CAAA,eAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,MAAA,CAAA,eAAA;AACA,OAJA;AAKA,KAPA;AAQA,IAAA,MARA,kBAQA,KARA,EAQA;AACA,WAAA,KAAA,CAAA,UAAA,CAAA,KAAA,EAAA,MAAA;AACA;AAVA,GAXA;AAuBA,EAAA,QAAA,EAAA;AACA,IAAA,YAAA,EAAA;AACA;AACA,MAAA,GAFA,iBAEA;AACA,eAAA,KAAA,KAAA,CAAA,KAAA,CAAA,UAAA,GAAA;AAAA,iBAAA,GAAA,CAAA,SAAA;AAAA,SAAA,CAAA,CADA,CAEA;AACA,OALA;AAMA,MAAA,GANA,eAMA,GANA,EAMA;AACA;AACA,aAAA,KAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,GAAA,CAAA,SAAA,GAAA,GAAA,CADA,CAEA;AACA,SAHA;AAIA;AAZA,KADA;AAeA,IAAA,KAfA,mBAeA;AACA,aAAA,KAAA,KAAA,CAAA,MAAA,CAAA,UAAA,KAAA,EAAA,OAAA,EAAA;AACA,YAAA,OAAA,CAAA,SAAA,EAAA;AACA,iBAAA,KAAA,GAAA,OAAA,CAAA,MAAA,GAAA,OAAA,CAAA,YAAA,GAAA,GAAA;AACA,SAFA,MAEA;AACA,iBAAA,KAAA;AACA;AACA,OANA,EAMA,CANA,CAAA;AAOA;AAvBA;AAvBA,CAAA","sourcesContent":["<template>\n    <div>\n        <div v-for=\"(item, index) in cart\" :key=\"index\">\n            <van-checkbox-group v-model=\"result\">\n                <div class=\"shop-title\">{{ item.shopNm }}</div>\n                <van-cell-group\n                    v-for=\"(item2, index2) in item.items\"\n                    :key=\"index2.id\"\n                    class=\"cartItem\"\n                >\n                    <van-checkbox v-model=\"item2.isChecked\"></van-checkbox>\n                    <van-card\n                        clickable\n                        :num=\"item.useTotalIntegral\"\n                        :price=\"item.productTotalAmount\"\n                        :desc=\"item.shopNm\"\n                        :title=\"item2.name\"\n                        :thumb=\"item2.image\"\n                        @click=\"toggle(index)\"\n                    >\n                    </van-card>\n                </van-cell-group>\n            </van-checkbox-group>\n        </div>\n        <router-link to=\"/orderadd/Orderadd\">\n            <van-submit-bar :price=\"3050\" button-text=\"结算\">\n                <van-checkbox v-model=\"isAllChecked\">全选</van-checkbox>\n            </van-submit-bar>\n        </router-link>\n    </div>\n</template>\n\n<script>\nimport { getCart } from \"../../network/cart.js\";\n\nexport default {\n    data() {\n        return {\n            result: [],\n            cart: [],\n            items: [],\n        };\n    },\n    created() {\n        this.getCart();\n    },\n    methods: {\n        getCart() {\n            getCart().then((res) => {\n                res.result.shoppingCartVos.forEach((ele) => (ele.isChecked = false));\n                this.cart = res.result.shoppingCartVos;\n                console.log(res.result.shoppingCartVos);\n            });\n        },\n        toggle(index) {\n            this.$refs.checkboxes[index].toggle();\n        },\n    },\n    computed: {\n        isAllChecked: {\n            //监听isAllChecked的变化\n            get() {\n                return this.items.every((ele) => ele.isChecked);\n                //单个数据全部选定时,全选也就被选定了,单个数据有一个没被选定,那么全选也就不会被选定\n            },\n            set(val) {\n                //val反应全选是否被选中时,全选中返回true;相反,返回false\n                this.items.forEach((ele) => {\n                    ele.isChecked = val;\n                    //选定全选后,单个数据根据全选情况而变化(全部被选中或全部没被选择)\n                });\n            },\n        },\n        total() {\n            return this.items.reduce((total, current) => {\n                if (current.isChecked) {\n                    return total + current.number * current.retail_price * 100;\n                } else {\n                    return total;\n                }\n            }, 0);\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n//@import url(); 引入公共css类\n.shop-title {\n    margin-top: 0.5rem;\n    font-size: 16px;\n}\n.cartItem {\n    display: flex;\n}\n.cartItem .van-checkbox {\n    width: 0.625rem;\n    float: left;\n}\n.cartItem .van-card {\n    float: left;\n    width: 9rem;\n}\n</style>\n"],"sourceRoot":"src/views/cart"}]}