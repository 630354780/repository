{"remainingRequest":"E:\\vue\\yilingshopmall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vue\\yilingshopmall\\src\\views\\cart\\Cart.vue?vue&type=style&index=0&id=2c65028a&lang=scss&scoped=true&","dependencies":[{"path":"E:\\vue\\yilingshopmall\\src\\views\\cart\\Cart.vue","mtime":1631758714846},{"path":"E:\\vue\\yilingshopmall\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue\\yilingshopmall\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\vue\\yilingshopmall\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\vue\\yilingshopmall\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue\\yilingshopmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue\\yilingshopmall\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLy9AaW1wb3J0IHVybCgpOyDlvJXlhaXlhazlhbFjc3PnsbsKLnNob3AtdGl0bGUgewogICAgbWFyZ2luLXRvcDogMC41cmVtOwogICAgZm9udC1zaXplOiAxNnB4Owp9Ci5jYXJ0SXRlbSB7CiAgICBkaXNwbGF5OiBmbGV4Owp9Ci5jYXJ0SXRlbSAudmFuLWNoZWNrYm94IHsKICAgIHdpZHRoOiAwLjYyNXJlbTsKICAgIGZsb2F0OiBsZWZ0Owp9Ci5jYXJ0SXRlbSAudmFuLWNhcmQgewogICAgZmxvYXQ6IGxlZnQ7CiAgICB3aWR0aDogOXJlbTsKfQo="},{"version":3,"sources":["Cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Cart.vue","sourceRoot":"src/views/cart","sourcesContent":["<template>\n    <div>\n        <div v-for=\"(item, index) in cart\" :key=\"index\">\n            <van-checkbox-group v-model=\"result\">\n                <div class=\"shop-title\">{{ item.shopNm }}</div>\n                <van-cell-group\n                    v-for=\"(item2, index2) in item.items\"\n                    :key=\"index2.id\"\n                    class=\"cartItem\"\n                >\n                    <van-checkbox v-model=\"item2.isChecked\"></van-checkbox>\n                    <van-card\n                        clickable\n                        :num=\"item.useTotalIntegral\"\n                        :price=\"item.productTotalAmount\"\n                        :desc=\"item.shopNm\"\n                        :title=\"item2.name\"\n                        :thumb=\"item2.image\"\n                        @click=\"toggle(index)\"\n                    >\n                    </van-card>\n                </van-cell-group>\n            </van-checkbox-group>\n        </div>\n        <router-link to=\"/orderadd/Orderadd\">\n            <van-submit-bar :price=\"3050\" button-text=\"结算\">\n                <van-checkbox v-model=\"isAllChecked\">全选</van-checkbox>\n            </van-submit-bar>\n        </router-link>\n    </div>\n</template>\n\n<script>\nimport { getCart } from \"../../network/cart.js\";\n\nexport default {\n    data() {\n        return {\n            result: [],\n            cart: [],\n            items: [],\n        };\n    },\n    created() {\n        this.getCart();\n    },\n    methods: {\n        getCart() {\n            getCart().then((res) => {\n                res.result.shoppingCartVos.forEach((ele) => (ele.isChecked = false));\n                this.cart = res.result.shoppingCartVos;\n                console.log(res.result.shoppingCartVos);\n            });\n        },\n        toggle(index) {\n            this.$refs.checkboxes[index].toggle();\n        },\n    },\n    computed: {\n        isAllChecked: {\n            //监听isAllChecked的变化\n            get() {\n                return this.items.every((ele) => ele.isChecked);\n                //单个数据全部选定时,全选也就被选定了,单个数据有一个没被选定,那么全选也就不会被选定\n            },\n            set(val) {\n                //val反应全选是否被选中时,全选中返回true;相反,返回false\n                this.items.forEach((ele) => {\n                    ele.isChecked = val;\n                    //选定全选后,单个数据根据全选情况而变化(全部被选中或全部没被选择)\n                });\n            },\n        },\n        total() {\n            return this.items.reduce((total, current) => {\n                if (current.isChecked) {\n                    return total + current.number * current.retail_price * 100;\n                } else {\n                    return total;\n                }\n            }, 0);\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n//@import url(); 引入公共css类\n.shop-title {\n    margin-top: 0.5rem;\n    font-size: 16px;\n}\n.cartItem {\n    display: flex;\n}\n.cartItem .van-checkbox {\n    width: 0.625rem;\n    float: left;\n}\n.cartItem .van-card {\n    float: left;\n    width: 9rem;\n}\n</style>\n"]}]}