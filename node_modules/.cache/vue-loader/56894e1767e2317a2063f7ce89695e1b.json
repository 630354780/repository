{"remainingRequest":"E:\\vue\\yilingshopmall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vue\\yilingshopmall\\src\\views\\cart\\Cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vue\\yilingshopmall\\src\\views\\cart\\Cart.vue","mtime":1631758714846},{"path":"E:\\vue\\yilingshopmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue\\yilingshopmall\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue\\yilingshopmall\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\vue\\yilingshopmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue\\yilingshopmall\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldENhcnQgfSBmcm9tICIuLi8uLi9uZXR3b3JrL2NhcnQuanMiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICByZXN1bHQ6IFtdLAogICAgICAgICAgICBjYXJ0OiBbXSwKICAgICAgICAgICAgaXRlbXM6IFtdLAogICAgICAgIH07CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICB0aGlzLmdldENhcnQoKTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZ2V0Q2FydCgpIHsKICAgICAgICAgICAgZ2V0Q2FydCgpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgcmVzLnJlc3VsdC5zaG9wcGluZ0NhcnRWb3MuZm9yRWFjaCgoZWxlKSA9PiAoZWxlLmlzQ2hlY2tlZCA9IGZhbHNlKSk7CiAgICAgICAgICAgICAgICB0aGlzLmNhcnQgPSByZXMucmVzdWx0LnNob3BwaW5nQ2FydFZvczsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5yZXN1bHQuc2hvcHBpbmdDYXJ0Vm9zKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICB0b2dnbGUoaW5kZXgpIHsKICAgICAgICAgICAgdGhpcy4kcmVmcy5jaGVja2JveGVzW2luZGV4XS50b2dnbGUoKTsKICAgICAgICB9LAogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgaXNBbGxDaGVja2VkOiB7CiAgICAgICAgICAgIC8v55uR5ZCsaXNBbGxDaGVja2Vk55qE5Y+Y5YyWCiAgICAgICAgICAgIGdldCgpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmV2ZXJ5KChlbGUpID0+IGVsZS5pc0NoZWNrZWQpOwogICAgICAgICAgICAgICAgLy/ljZXkuKrmlbDmja7lhajpg6jpgInlrprml7Ys5YWo6YCJ5Lmf5bCx6KKr6YCJ5a6a5LqGLOWNleS4quaVsOaNruacieS4gOS4quayoeiiq+mAieWumizpgqPkuYjlhajpgInkuZ/lsLHkuI3kvJrooqvpgInlrpoKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2V0KHZhbCkgewogICAgICAgICAgICAgICAgLy92YWzlj43lupTlhajpgInmmK/lkKbooqvpgInkuK3ml7Ys5YWo6YCJ5Lit6L+U5ZuedHJ1ZTvnm7jlj40s6L+U5ZueZmFsc2UKICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaCgoZWxlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgZWxlLmlzQ2hlY2tlZCA9IHZhbDsKICAgICAgICAgICAgICAgICAgICAvL+mAieWumuWFqOmAieWQjizljZXkuKrmlbDmja7moLnmja7lhajpgInmg4XlhrXogIzlj5jljJYo5YWo6YOo6KKr6YCJ5Lit5oiW5YWo6YOo5rKh6KKr6YCJ5oupKQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICB0b3RhbCgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMucmVkdWNlKCh0b3RhbCwgY3VycmVudCkgPT4gewogICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQuaXNDaGVja2VkKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsICsgY3VycmVudC5udW1iZXIgKiBjdXJyZW50LnJldGFpbF9wcmljZSAqIDEwMDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAwKTsKICAgICAgICB9LAogICAgfSwKfTsK"},{"version":3,"sources":["Cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Cart.vue","sourceRoot":"src/views/cart","sourcesContent":["<template>\n    <div>\n        <div v-for=\"(item, index) in cart\" :key=\"index\">\n            <van-checkbox-group v-model=\"result\">\n                <div class=\"shop-title\">{{ item.shopNm }}</div>\n                <van-cell-group\n                    v-for=\"(item2, index2) in item.items\"\n                    :key=\"index2.id\"\n                    class=\"cartItem\"\n                >\n                    <van-checkbox v-model=\"item2.isChecked\"></van-checkbox>\n                    <van-card\n                        clickable\n                        :num=\"item.useTotalIntegral\"\n                        :price=\"item.productTotalAmount\"\n                        :desc=\"item.shopNm\"\n                        :title=\"item2.name\"\n                        :thumb=\"item2.image\"\n                        @click=\"toggle(index)\"\n                    >\n                    </van-card>\n                </van-cell-group>\n            </van-checkbox-group>\n        </div>\n        <router-link to=\"/orderadd/Orderadd\">\n            <van-submit-bar :price=\"3050\" button-text=\"结算\">\n                <van-checkbox v-model=\"isAllChecked\">全选</van-checkbox>\n            </van-submit-bar>\n        </router-link>\n    </div>\n</template>\n\n<script>\nimport { getCart } from \"../../network/cart.js\";\n\nexport default {\n    data() {\n        return {\n            result: [],\n            cart: [],\n            items: [],\n        };\n    },\n    created() {\n        this.getCart();\n    },\n    methods: {\n        getCart() {\n            getCart().then((res) => {\n                res.result.shoppingCartVos.forEach((ele) => (ele.isChecked = false));\n                this.cart = res.result.shoppingCartVos;\n                console.log(res.result.shoppingCartVos);\n            });\n        },\n        toggle(index) {\n            this.$refs.checkboxes[index].toggle();\n        },\n    },\n    computed: {\n        isAllChecked: {\n            //监听isAllChecked的变化\n            get() {\n                return this.items.every((ele) => ele.isChecked);\n                //单个数据全部选定时,全选也就被选定了,单个数据有一个没被选定,那么全选也就不会被选定\n            },\n            set(val) {\n                //val反应全选是否被选中时,全选中返回true;相反,返回false\n                this.items.forEach((ele) => {\n                    ele.isChecked = val;\n                    //选定全选后,单个数据根据全选情况而变化(全部被选中或全部没被选择)\n                });\n            },\n        },\n        total() {\n            return this.items.reduce((total, current) => {\n                if (current.isChecked) {\n                    return total + current.number * current.retail_price * 100;\n                } else {\n                    return total;\n                }\n            }, 0);\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n//@import url(); 引入公共css类\n.shop-title {\n    margin-top: 0.5rem;\n    font-size: 16px;\n}\n.cartItem {\n    display: flex;\n}\n.cartItem .van-checkbox {\n    width: 0.625rem;\n    float: left;\n}\n.cartItem .van-card {\n    float: left;\n    width: 9rem;\n}\n</style>\n"]}]}